<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Triathlon Calculator</title>

<link rel="manifest" href="manifest.json">

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js")
}
</script>

<style>
body { font-family: system-ui; padding: 15px; max-width: 420px; margin: auto; }
h1 { text-align: center; font-size: 22px; margin-bottom: 10px; }
input { width: 100%; padding: 6px; margin: 3px 0; font-size: 14px; }
button { padding: 8px; font-size: 14px; margin: 3px 1%; flex: 1; }
.result { margin-top: 10px; font-size: 14px; line-height: 1.3; }
.section-buttons { display: flex; justify-content: space-between; margin-bottom: 3px; flex-wrap: wrap; gap: 3px; }
</style>
</head>

<body>

<h1>üèä‚Äç‚ôÇÔ∏èüö¥‚Äç‚ôÇÔ∏èüèÉ‚Äç‚ôÇÔ∏è Triathlon Calculator</h1>

<h3>Rychl√© z√°vody</h3>
<div class="section-buttons">
  <button type="button" onclick="setRace('half')">Poloviƒçn√≠ IM</button>
  <button type="button" onclick="setRace('full')">Full IM</button>
</div>

<h3>Plav√°n√≠</h3>
<input id="swimDist" placeholder="Vzd√°lenost (m)">
<input id="swimPace" placeholder="Tempo (min / 100 m)">

<h3>Kolo</h3>
<input id="bikeDist" placeholder="Vzd√°lenost (km)">
<input id="bikeSpeed" placeholder="Rychlost (km/h)">

<h3>Bƒõh</h3>
<input id="runDist" placeholder="Vzd√°lenost (km)">
<input id="runPace" placeholder="Tempo (min / km)">

<h3>Depa</h3>
<input id="transitions" placeholder="T1 + T2 (min)">

<button onclick="calculate()">Spoƒç√≠tat</button>

<div class="result" id="result"></div>

<script>
// Rychl√© nastaven√≠ z√°vod≈Ø
function setRace(type) {
  if(type === 'half') {
    document.getElementById("swimDist").value = 1900;
    document.getElementById("bikeDist").value = 90;
    document.getElementById("runDist").value  = 21.1;
    document.getElementById("transitions").value = 5;
  } else if(type === 'full') {
    document.getElementById("swimDist").value = 3800;
    document.getElementById("bikeDist").value = 180;
    document.getElementById("runDist").value  = 42.2;
    document.getElementById("transitions").value = 10;
  }
}

// V√Ωpoƒçet ƒças≈Ø
function calculate() {
  const swimDist = parseFloat(document.getElementById("swimDist").value) || 0;
  const swimPace = parseFloat(document.getElementById("swimPace").value) || 0;
  const bikeDist = parseFloat(document.getElementById("bikeDist").value) || 0;
  const bikeSpeed = parseFloat(document.getElementById("bikeSpeed").value) || 0;
  const runDist  = parseFloat(document.getElementById("runDist").value) || 0;
  const runPace  = parseFloat(document.getElementById("runPace").value) || 0;
  const trans    = parseFloat(document.getElementById("transitions").value) || 0;

  const swimTime = (swimDist / 100) * swimPace;
  const bikeTime = (bikeDist / bikeSpeed) * 60;
  const runTime  = runDist * runPace;

  const total = swimTime + bikeTime + runTime + trans;

  document.getElementById("result").innerHTML = `
üèä ${swimTime.toFixed(1)} min &nbsp; | &nbsp;
üö¥ ${bikeTime.toFixed(1)} min &nbsp; | &nbsp;
üèÉ ${runTime.toFixed(1)} min &nbsp; | &nbsp;
‚è±Ô∏è ${trans} min &nbsp; | &nbsp;
<strong>Celkem: ${format(total)}</strong>
  `;
}

// Form√°tov√°n√≠ v√Ωsledku
function format(min) {
  const h = Math.floor(min / 60);
  const m = Math.round(min % 60);
  return h > 0 ? `${h}h ${m}min` : `${m}min`;
}
</script>

</body>
</html>